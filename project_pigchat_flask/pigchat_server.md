# 野猪聊天HTTP协议文档

## 简介

PigChat Server 是一个用于处理野猪聊天的HTTP服务

## 请求

### 获取野猪时间戳

- **URL**: `http://127.0.0.1:5001/pigtime`
- **请求方式**: `GET`
- **注意事项**: 请求体非必须，采用本地时间无需请求体，指定时间需要传入年月日

**请求体示例**:

```json
{
    "year": 2025,
    "month": 3,
    "day": 10
}
```

**响应示例**:

```json
{
    "pigtime": 1741381388
}
```

### UTF-8 与 密文 互转

- **URL**: `http://127.0.0.1:5001/duplex`
- **请求方式**: `POST`
- **响应内容**: 密文具有随机性，响应结果与示例不一致为正常现象
- **注意事项**:
    - 若请求缺少 `password` 的时候，密钥默认采用空字符串
    - 若响应 `result` 内容 `""` 或 与 `input_str` 一致，可能发生了错误，具体细节与密文转换策略有关

#### UTF-8 转 密文

**请求体示例**:

```json
{
    "input_str": "将军",
    "timestamp": "1741208586",
    "password": "my_password"
}
```

**响应示例**:

```json
{
    "result": "🌱󠄃󠄵󠄈󠄤󠄰󠄜󠄀󠄵󠄰󠄟󠄑󠄈"
}
```

#### 密文 转 UTF-8

**请求体示例**:

```json
{
    "input_str": "🌱󠄃󠄵󠄈󠄤󠄰󠄜󠄀󠄵󠄰󠄟󠄑󠄈",
    "timestamp": "1741208586",
    "password": "my_password"
}
```

**响应示例**:

```json
{
    "result": "将军"
}
```